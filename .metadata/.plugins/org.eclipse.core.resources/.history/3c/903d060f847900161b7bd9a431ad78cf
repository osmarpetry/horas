@RequestScoped
public class UsuarioDAO{
    private EntityManager manager;

    public UsuarioDAO(){}

    @Inject
    public UsuarioDAO(EntityManager manager){
        this.manager = manager;
    }

    public void adiciona(Usuario usuario){
        manager.getTransaction().begin();
        manager.persist(usuario);
        manager.getTransaction().commit();
    }

    public List<Usuario> lista(){
        String jpql = "select u from Usuario u";
        TypedQuery<Usuario> query = manager.createQuery(jpql, Usuario.class);
        return query.getResultList();
    }
}